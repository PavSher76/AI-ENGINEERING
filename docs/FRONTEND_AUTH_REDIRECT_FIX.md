# üîê –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –ø–µ—Ä–µ—Ö–æ–¥–æ–º –ø–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

## ‚úÖ –°—Ç–∞—Ç—É—Å: –ü–†–û–ë–õ–ï–ú–ê –†–ï–®–ï–ù–ê

**–î–∞—Ç–∞**: 5 –æ–∫—Ç—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è**: 1.0.0  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

---

## üö® –ò—Å—Ö–æ–¥–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –Ω–∞ `http://localhost:3000/login` —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–µ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –ø—Ä–æ–µ–∫—Ç–∞.

**–û—à–∏–±–∫–∏ –≤ –ª–æ–≥–∞—Ö:**
```
POST /realms/ai-engineering/login-actions/authenticate?session_code=... HTTP/1.1" 405 559
```

**–ü—Ä–∏—á–∏–Ω–∞:** –§—Ä–æ–Ω—Ç–µ–Ω–¥ –ø—ã—Ç–∞–ª—Å—è –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ Keycloak —á–µ—Ä–µ–∑ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URL `http://localhost:3000/realms/...` –≤–º–µ—Å—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ `https://localhost/auth/realms/...`.

---

## üîç –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã

### –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:
1. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URL Keycloak** –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
2. **–û—à–∏–±–∫–∞ 405** –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
3. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–∫—Å–∏** –≤ Nginx
4. **–ù–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–∞—è –æ–ø—Ü–∏—è** `--hostname-port` –≤ Keycloak 26.4.0

### –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑:
- –§—Ä–æ–Ω—Ç–µ–Ω–¥ –±—ã–ª –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ `REACT_APP_KEYCLOAK_URL=http://localhost:8080`
- Nginx –ø—Ä–æ–∫—Å–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ `/auth/` –¥–ª—è Keycloak
- –§—Ä–æ–Ω—Ç–µ–Ω–¥ –¥–æ–ª–∂–µ–Ω –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ `https://localhost/auth/realms/...`
- Keycloak –Ω–µ –∑–∞–ø—É—Å–∫–∞–ª—Å—è –∏–∑-–∑–∞ –Ω–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ–π –æ–ø—Ü–∏–∏

---

## üõ†Ô∏è –†–µ—à–µ–Ω–∏–µ

### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
**–§–∞–π–ª:** `docker-compose.yml`
```yaml
# –ë—ã–ª–æ:
environment:
  - REACT_APP_KEYCLOAK_URL=http://localhost:8080

# –°—Ç–∞–ª–æ:
environment:
  - REACT_APP_KEYCLOAK_URL=https://localhost/auth
```

### 2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã –∑–∞–ø—É—Å–∫–∞ Keycloak
**–§–∞–π–ª:** `docker-compose.yml`
```yaml
# –ë—ã–ª–æ:
command: start-dev --http-enabled=true --hostname-strict=false --import-realm --http-port=8080 --hostname=localhost --hostname-port=8080

# –°—Ç–∞–ª–æ:
command: start-dev --http-enabled=true --hostname-strict=false --import-realm --http-port=8080 --hostname=localhost
```

### 3. –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
**–ö–æ–º–∞–Ω–¥–∞:**
```bash
docker-compose up -d --build frontend
```

### 4. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ Keycloak
**–ö–æ–º–∞–Ω–¥–∞:**
```bash
docker-compose up -d keycloak
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
- ‚úÖ **Keycloak –¥–æ—Å—Ç—É–ø–µ–Ω** —á–µ—Ä–µ–∑ Nginx –Ω–∞ `https://localhost/auth/realms/ai-engineering`
- ‚úÖ **OpenID Connect –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** –¥–æ—Å—Ç—É–ø–Ω–∞
- ‚úÖ **–¢–æ–∫–µ–Ω –ø–æ–ª—É—á–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ** –¥–ª—è admin/admin
- ‚úÖ **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç** —á–µ—Ä–µ–∑ Nginx
- ‚úÖ **–û—à–∏–±–∫–∏ 405 —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã**

### –ö–æ–º–∞–Ω–¥—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ Keycloak —á–µ—Ä–µ–∑ Nginx
curl -k -s -I https://localhost/auth/realms/ai-engineering/.well-known/openid-configuration

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
python3 -c "
import requests
response = requests.get('https://localhost/auth/realms/ai-engineering/.well-known/openid-configuration', verify=False)
print('Issuer:', response.json()['issuer'])
"
```

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

- **–§–∞–π–ª–æ–≤ –∏–∑–º–µ–Ω–µ–Ω–æ**: 1
- **–ö–æ–º–∞–Ω–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ**: 3
- **–í—Ä–µ–º—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è**: ~20 –º–∏–Ω—É—Ç

---

## üåê –§–∏–Ω–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### URL-–∞–¥—Ä–µ—Å–∞:
- **Frontend**: https://localhost (—á–µ—Ä–µ–∑ Nginx)
- **API**: https://localhost/api (—á–µ—Ä–µ–∑ Nginx)
- **Keycloak**: https://localhost/auth (—á–µ—Ä–µ–∑ Nginx)
- **Keycloak Direct**: http://localhost:8080
- **Keycloak Admin**: http://localhost:8080/admin

### –ü—Ä–æ—Ç–æ–∫–æ–ª—ã:
- **Frontend ‚Üí Keycloak**: HTTPS ‚Üí HTTPS (—á–µ—Ä–µ–∑ Nginx) ‚úÖ
- **Frontend ‚Üí API**: HTTPS ‚Üí HTTPS ‚úÖ
- **CORS**: –ù–∞—Å—Ç—Ä–æ–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ ‚úÖ
- **PKCE**: –û—Ç–∫–ª—é—á–µ–Ω –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ ‚úÖ
- **–ü—Ä–æ–∫—Å–∏**: –ù–∞—Å—Ç—Ä–æ–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ ‚úÖ

---

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

### ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—à–µ–Ω–∞:
1. **–û—à–∏–±–∫–∏ 405 —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã**
2. **Keycloak –¥–æ—Å—Ç—É–ø–µ–Ω** —á–µ—Ä–µ–∑ Nginx
3. **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç** –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
4. **–§—Ä–æ–Ω—Ç–µ–Ω–¥ –º–æ–∂–µ—Ç** –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ Keycloak
5. **–¢–æ–∫–µ–Ω—ã –ø–æ–ª—É—á–∞—é—Ç—Å—è** —É—Å–ø–µ—à–Ω–æ
6. **–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞** –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### üöÄ –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é:
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –≤—Ö–æ–¥–∏—Ç—å —á–µ—Ä–µ–∑ Keycloak
- –§—Ä–æ–Ω—Ç–µ–Ω–¥ –º–æ–∂–µ—Ç –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ API
- CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ

---

## üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É:
1. **–û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä** –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ **https://localhost**
2. **–ù–∞–∂–º–∏—Ç–µ "–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Keycloak"**
3. **–í–≤–µ–¥–∏—Ç–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**:
   - **admin/admin** - –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
   - **developer/developer** - –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫
   - **analyst/analyst** - –ê–Ω–∞–ª–∏—Ç–∏–∫
   - **viewer/viewer** - –ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å
4. **–ü–æ–ª—É—á–∏—Ç–µ –¥–æ—Å—Ç—É–ø** –∫ —Ñ—É–Ω–∫—Ü–∏—è–º —Å–æ–≥–ª–∞—Å–Ω–æ —Ä–æ–ª—è–º

### –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è:
- **Keycloak –¥–æ—Å—Ç—É–ø–µ–Ω** —á–µ—Ä–µ–∑ Nginx –Ω–∞ HTTPS
- **–§—Ä–æ–Ω—Ç–µ–Ω–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç** —á–µ—Ä–µ–∑ HTTPS
- **API –¥–æ—Å—Ç—É–ø–µ–Ω** —á–µ—Ä–µ–∑ HTTPS
- **–í—Å–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã** –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- **CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω** –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

---

## üîß –î–ª—è production

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
1. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã** –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS** –¥–ª—è –≤—Å–µ—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ CA** —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
4. **–û–±–Ω–æ–≤–∏—Ç–µ CORS –ø–æ–ª–∏—Ç–∏–∫–∏** –¥–ª—è production

### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è production:
```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
./scripts/setup_ssl_local.sh

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Keycloak –Ω–∞ HTTPS
# (—Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏)
```

---

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

### ‚úÖ **–ü—Ä–æ–±–ª–µ–º–∞ —Å –ø–µ—Ä–µ—Ö–æ–¥–æ–º –ø–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —Ä–µ—à–µ–Ω–∞:**

1. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞** - —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É URL
2. **Keycloak —Ä–∞–±–æ—Ç–∞–µ—Ç** —á–µ—Ä–µ–∑ Nginx –ø—Ä–æ–∫—Å–∏
3. **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç** –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
4. **–¢–æ–∫–µ–Ω—ã –ø–æ–ª—É—á–∞—é—Ç—Å—è** —É—Å–ø–µ—à–Ω–æ
5. **–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞** –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### üöÄ **–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –≤—Ö–æ–¥–∏—Ç—å —á–µ—Ä–µ–∑ Keycloak
- –§—Ä–æ–Ω—Ç–µ–Ω–¥ –º–æ–∂–µ—Ç –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ API
- –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫

---

*–û—Ç—á–µ—Ç —Å–æ–∑–¥–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∏—Å—Ç–µ–º–æ–π AI Engineering Platform*
