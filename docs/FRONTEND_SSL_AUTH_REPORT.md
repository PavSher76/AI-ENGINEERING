# –û—Ç—á–µ—Ç –æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ SSL –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –¥–ª—è Frontend

## –û–±–∑–æ—Ä

–£—Å–ø–µ—à–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã SSL (HTTPS) –∏ —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ AI Engineering Platform. –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç —á–µ—Ä–µ–∑ –∑–∞—â–∏—â–µ–Ω–Ω—ã–µ SSL —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π Keycloak.

## –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### ‚úÖ 1. SSL –¥–ª—è Frontend
- **–ù–∞—Å—Ç—Ä–æ–µ–Ω HTTPS** –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ —á–µ—Ä–µ–∑ Nginx
- **–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã** –¥–ª—è localhost
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** HTTP ‚Üí HTTPS
- **Security headers** –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –∞—Ç–∞–∫
- **–°–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã** –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### ‚úÖ 2. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è Frontend
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Keycloak** —Å React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏** (AuthContext, ProtectedRoute, Login)
- **–ó–∞—â–∏—â–µ–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã** —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Ä–æ–ª–µ–π
- **API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º —Ç–æ–∫–µ–Ω–æ–≤
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–æ–∫–µ–Ω–æ–≤** —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º

### ‚úÖ 3. Keycloak –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- **Realm ai-engineering** —Å–æ–∑–¥–∞–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- **–ö–ª–∏–µ–Ω—Ç ai-frontend** –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
- **–†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** (admin, developer, analyst, viewer)
- **–¢–µ—Å—Ç–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏** —Å –ø–∞—Ä–æ–ª—è–º–∏
- **SSL —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è** –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### SSL –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
```
‚úÖ Frontend (HTTPS) –¥–æ—Å—Ç—É–ø–µ–Ω
‚úÖ Keycloak (HTTPS) –¥–æ—Å—Ç—É–ø–µ–Ω  
‚úÖ API endpoints –¥–æ—Å—Ç—É–ø–Ω—ã
‚úÖ HTTP –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ HTTPS
‚úÖ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –≤–∞–ª–∏–¥–Ω—ã
```

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
```
‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å admin –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω
‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å developer –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω
‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å analyst –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω
‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å viewer –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

### Frontend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- **AuthContext** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- **ProtectedRoute** - –∑–∞—â–∏—Ç–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤ –ø–æ —Ä–æ–ª—è–º
- **Login** - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Ö–æ–¥–∞ —Å Keycloak
- **keycloak.ts** - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ —É—Ç–∏–ª–∏—Ç—ã Keycloak
- **api.ts** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å API –∏ —Ç–æ–∫–µ–Ω–∞–º–∏

### Keycloak –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
- **Realm**: ai-engineering
- **Client**: ai-frontend (public client)
- **–†–æ–ª–∏**: admin, developer, analyst, viewer
- **SSL**: –æ—Ç–∫–ª—é—á–µ–Ω –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (sslRequired: "none")

## –î–æ—Å—Ç—É–ø–Ω—ã–µ URL

### HTTPS URL:
- **Frontend**: https://localhost
- **Keycloak Admin**: https://localhost:8080/admin
- **Keycloak Realm**: https://localhost:8080/realms/ai-engineering
- **API Endpoints**: https://localhost/api/*

### –¢–µ—Å—Ç–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏:
- **admin/admin** - –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä (–≤—Å–µ —Ä–æ–ª–∏)
- **developer/developer** - –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ (developer, analyst, viewer)
- **analyst/analyst** - –ê–Ω–∞–ª–∏—Ç–∏–∫ (analyst, viewer)
- **viewer/viewer** - –ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å (viewer)

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### SSL:
- `ssl/localhost.crt` - SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
- `ssl/localhost.key` - –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á
- `infrastructure/nginx/nginx.conf` - Nginx —Å HTTPS

### Keycloak:
- `keycloak/conf/keycloak.conf` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–µ—Ä–∞
- `keycloak/ai-engineering-realm.json` - realm –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### Frontend:
- `frontend/src/config/environment.ts` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è
- `frontend/src/services/keycloak.ts` - Keycloak –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- `frontend/src/contexts/AuthContext.tsx` - –∫–æ–Ω—Ç–µ–∫—Å—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- `frontend/src/components/Auth/ProtectedRoute.tsx` - –∑–∞—â–∏—â–µ–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã
- `frontend/src/pages/Auth/Login.tsx` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Ö–æ–¥–∞

## –°–∫—Ä–∏–ø—Ç—ã

### SSL:
- `scripts/generate_ssl_certs.sh` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
- `scripts/test_ssl.sh` - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ SSL —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:
- `scripts/setup_keycloak_auth.sh` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Keycloak
- `scripts/test_frontend_auth.sh` - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:
- **–í—Ö–æ–¥ —á–µ—Ä–µ–∑ Keycloak** - –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ Keycloak
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤** - refresh token
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–µ–π** - hasRole, hasAnyRole, hasAllRoles
- **–ó–∞—â–∏—â–µ–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã** - –ø–æ —Ä–æ–ª—è–º –∏ –ø—Ä–∞–≤–∞–º
- **–í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã** - logout —Å –æ—á–∏—Å—Ç–∫–æ–π

### API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤** –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∏
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ 401 –æ—à–∏–±–æ–∫** —Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º —Ç–æ–∫–µ–Ω–æ–≤
- **Fallback –Ω–∞ –º–æ–∫-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω** —Å Material-UI
- **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** –¥–ª—è –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- **–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è** –æ–± –æ—à–∏–±–∫–∞—Ö
- **–ó–∞–≥—Ä—É–∑–æ—á–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è** –¥–ª—è UX

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### SSL Security Headers:
- `Strict-Transport-Security` - –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ HTTPS
- `X-Frame-Options: DENY` - –∑–∞—â–∏—Ç–∞ –æ—Ç clickjacking
- `X-Content-Type-Options: nosniff` - –∑–∞—â–∏—Ç–∞ –æ—Ç MIME sniffing
- `X-XSS-Protection` - –∑–∞—â–∏—Ç–∞ –æ—Ç XSS –∞—Ç–∞–∫

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:
- **JWT —Ç–æ–∫–µ–Ω—ã** –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- **–†–æ–ª–∏ –∏ –ø—Ä–∞–≤–∞** –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ** —Ç–æ–∫–µ–Ω–æ–≤
- **–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –≤—ã—Ö–æ–¥** –∏–∑ —Å–∏—Å—Ç–µ–º—ã

## –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
- **–°–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã** –¥–ª—è HTTPS
- **–û—Ç–∫–ª—é—á–µ–Ω–Ω—ã–µ SSL —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è** –≤ Keycloak
- **–ú–æ–∫-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å** –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –±–µ–∑ Keycloak
- **–ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

### –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –±—Ä–∞—É–∑–µ—Ä–∞:
- –í –±—Ä–∞—É–∑–µ—Ä–µ –ø–æ—è–≤–∏—Ç—Å—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- –ù–∞–∂–º–∏—Ç–µ "–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ" ‚Üí "–ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ localhost (–Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ)"
- –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã—Ö —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

## –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

### SSL:
1. –ü–æ–ª—É—á–∏—Ç–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –æ—Ç –¥–æ–≤–µ—Ä–µ–Ω–Ω–æ–≥–æ CA
2. –ó–∞–º–µ–Ω–∏—Ç–µ —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
3. –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –¥–æ–º–µ–Ω–∞

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:
1. –í–∫–ª—é—á–∏—Ç–µ SSL —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –≤ Keycloak
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–æ–º–µ–Ω—ã –≤ redirect URIs
3. –û—Ç–∫–ª—é—á–∏—Ç–µ –º–æ–∫-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –∫–æ–¥–µ
4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

SSL –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞. –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å –ø–æ–ª–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é:

- ‚úÖ **SSL/HTTPS** –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- ‚úÖ **Keycloak –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** —Å —Ä–æ–ª—è–º–∏
- ‚úÖ **–ó–∞—â–∏—â–µ–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã** –∏ API
- ‚úÖ **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π UI** —Å Material-UI
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞–º–∏**
- ‚úÖ **–†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏** —Å –º–æ–∫-–¥–∞–Ω–Ω—ã–º–∏

**–î–∞—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏**: 1 –æ–∫—Ç—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ  
**–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å**: üöÄ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
